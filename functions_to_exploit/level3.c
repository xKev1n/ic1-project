#include <stdio.h>
#include <string.h>
//#include "/home/lubuntu/Documents/ic1-project/flag_generator/generator.c"


static const char* flag = "WAWb7QOIfp8OQeMRfuiY";


void flag3()
{
	char flag3[17];
	printf("\nWow, I'm impressed...\n");
	printf("You are free now, enjoy this last flag: %s\n", flag);
}


// FLAG IN MEMORY
void totally_nonexploitable_function3(char* input)
{
	int flag_addr = 0xdeadc0de;
	int* flag_ptr = &flag_addr;
		printf(input);
	// 20
	printf("Value is %i\n", flag_addr);
	// 35
	if(flag_addr == 69) {
      	flag3();
  	} else {
  	  	printf("Nope...\n");
  	}
}


int main(int argc, char const *argv[])
{
	printf("I want you to set value of flag_addr variable to 69 to get the last flag, using printf.\nYEAH, that printf which is user to print stuff.");
	printf("The value of mentioned variable is 0xdeadc0de\nTo make it easier for you to find it using GDB...\nGood luck ;-)\n");
	printf("Enter whatever you like: \n");

	char buffer[64];

    fgets(buffer, 64, stdin);
	totally_nonexploitable_function3(buffer);

	return 0;
}
